{"version":3,"sources":["uni-app:///main.js","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?bd79","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?a44d","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?ba04","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?da75","uni-app:///pages/user/setup.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/user/setup.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/user/setup.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setup.vue?vue&type=template&id=f978c81c&\"\nvar renderjs\nimport script from \"./setup.vue?vue&type=script&lang=js&\"\nexport * from \"./setup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/setup.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=template&id=f978c81c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"user\">\r\n\t\t<view class=\"header\" :style=\"[{height:CustomBar + 'px'}]\">\r\n\t\t\t<view class=\"cu-bar bg-white\" :style=\"{'height': CustomBar + 'px','padding-top':StatusBar + 'px'}\">\r\n\t\t\t\t<view class=\"action\" @tap=\"back\">\r\n\t\t\t\t\t<text class=\"cuIcon-back\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content text-bold\" :style=\"[{top:StatusBar + 'px'}]\">\r\n\t\t\t\t\t设置\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view :style=\"[{padding:NavBar + 'px 10px 0px 10px'}]\"></view>\r\n\t\t<view class=\"cu-list menu margin-top\">\r\n\t\t\t<view class=\"cu-item\" @tap=\"rmlocal\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text>清除缓存</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-gray\">{{ localdata }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--  #ifdef APP-PLUS -->\r\n\t\t\t<view class=\"cu-item\" @tap=\"isUpdate(true)\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text>检查更新</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"text-gray\" v-if=\"Update==0\">{{wgtVer}}</text>\r\n\t\t\t\t\t<text class=\"update-tips bg-red\"  v-if=\"Update==1\">News</text>\r\n\t\t\t\t\t<text class=\"cuIcon-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--  #endif -->\r\n\t\t</view>\r\n\t\t<view class=\"logout\" v-if=\"token!=''\" @tap=\"logout\">\r\n\t\t\t<view class=\"logout-main\">\r\n\t\t\t\t<text class=\"text-red\">退出登录</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\r\n\tvar API = require('../../utils/api')\r\n\tvar Net = require('../../utils/net')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tStatusBar: this.StatusBar,\r\n\t\t\t\tCustomBar: this.CustomBar,\r\n\t\t\t\tNavBar:this.StatusBar +  this.CustomBar,\r\n\t\t\t\t\r\n\t\t\t\tlocaldata: '',\r\n\t\t\t\t\r\n\t\t\t\tversionCode:0,\r\n\t\t\t\twgtVer:'',\r\n\t\t\t\t\r\n\t\t\t\tUpdate:0,\r\n\t\t\t\tversionUrl:\"\",\r\n\t\t\t\t\r\n\t\t\t\tuserInfo:null,\r\n\t\t\t\ttoken:\"\",\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPullDownRefresh(){\r\n\t\t\tvar that = this;\r\n\t\t\t\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tvar that = this;\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\r\n\t\t\tplus.navigator.setStatusBarStyle(\"dark\")\r\n\t\t\t\r\n\t\t\tthat.isUpdate(false);\r\n\t\t\t// #endif\r\n\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\r\n\t\t\t\tthat.userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t//that.userInfo.style = \"background-image:url(\"+that.userInfo.avatar+\");\"\r\n\t\t\t}\r\n\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\r\n\t\t\t\tthat.token = localStorage.getItem('token');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tvar that = this;\r\n\t\t\t// #ifdef APP-PLUS || MP\r\n\t\t\tthat.NavBar = this.CustomBar;\r\n\t\t\t// #endif\r\n\t\t\tthat.get_cache_size();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trmlocal(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '提示',\r\n\t\t\t\t    content: '是否清除缓存？',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t            that.closeLocal();\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcloseLocal() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '操作成功！',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t})\r\n\t\t\t\tthat.localdata = '0 KB'\r\n\t\t\t},\r\n\t\t\tget_cache_size() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar obj = uni.getStorageInfoSync()\r\n\t\t\t\tif (obj) {\r\n\t\t\t\t\tthat.localdata = obj.currentSize + ' KB'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('浏览器不支持localStorage')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisUpdate(Status) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(inf) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.wgtVer = inf.version //获取当前版本号\r\n\t\t\t\t\tthat.versionCode = inf.versionCode;\r\n\t\t\t\t\tvar version = inf.versionCode;\r\n\t\t\t\t\tNet.request({\r\n\t\t\t\t\t\turl: API.GetUpdateUrl(),\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tvar versionCode = res.data.versionCode;\r\n\t\t\t\t\t\t\tthat.versionUrl =  res.data.versionUrl;\r\n\t\t\t\t\t\t\tif(Status){\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"检测完成\",\r\n\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\t\tposition:'bottom',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(versionCode > version){\r\n\t\t\t\t\t\t\t\tconsole.log(\"有更新\");\r\n\t\t\t\t\t\t\t\tthat.Update=1;\r\n\t\t\t\t\t\t\t\tif(Status){\r\n\t\t\t\t\t\t\t\t\tif(res.data.versionUrl!=\"\"){\r\n\t\t\t\t\t\t\t\t\t\tplus.runtime.openURL(res.data.versionUrl);  \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(res){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlogout(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '提示',\r\n\t\t\t\t    content: '确认退出账户？',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar data={\r\n\t\t\t\t\t\t\t\t\"token\":that.token\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tNet.request({\r\n\t\t\t\t\t\t\t\turl: API.signOut(),\r\n\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('userinfo');\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:\"退出成功\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\t\t\t\tposition:'bottom',\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/home/home'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t            \r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            \r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"sourceRoot":""}